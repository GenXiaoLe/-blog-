(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{362:function(s,a,t){"use strict";t.r(a);var e=t(42),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"linux基础命令使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux基础命令使用"}},[s._v("#")]),s._v(" Linux基础命令使用")]),s._v(" "),t("p",[s._v("在服务其使用之前，我们需要了解一下Linux的基础使用，才能愉快地玩耍")]),s._v(" "),t("h3",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" SSH")]),s._v(" "),t("p",[s._v("有了服务器，如何在本地登录登陆是一个开始")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@服务器ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("每次都输入密码很是繁琐，所以我们可以配置本地免密登陆")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成rsa秘钥，一路回车（已有rsa秘钥的请跳过此步骤）")]),s._v("\nssh-keygen -t rsa\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到刚才生成的秘钥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAA---------中间部分生路--------ji4lr xiaofengge@xiaofengge.local\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录云服务器，找到秘钥文件，将本地秘钥拷贝到云服务器即可")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.ssh/authorized_keys\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次登录云服务器，会发现不用输入密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@服务器ip\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置别名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.ssh/config\n\n$  Host "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("126")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 126就是别名，我们可以用ssh 126 登录我们的服务器")]),s._v("\n$  User root "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户名")]),s._v("\n$  Port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口号")]),s._v("\n$  HostName "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.116")]),s._v(".27.64 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 云服务器IP")]),s._v("\n$  IdentityFile ~/.ssh/id_rsa "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 秘钥位置")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("ssh")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("登陆的协议")])]),s._v(" "),t("tr",[t("td",[s._v("root")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("用户名")])]),s._v(" "),t("tr",[t("td",[s._v("服务器ip")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("服务器的地址")])])])]),s._v(" "),t("h3",{attrs:{id:"uname"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uname"}},[s._v("#")]),s._v(" uname")]),s._v(" "),t("p",[s._v("可显示电脑以及操作系统的相关信息")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-amnrsv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--help"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--version"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-a或--all")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示全部的信息。")])]),s._v(" "),t("tr",[t("td",[s._v("-m或--machine")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示电脑类型。")])]),s._v(" "),t("tr",[t("td",[s._v("-n或-nodename")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示在网络上的主机名称。")])]),s._v(" "),t("tr",[t("td",[s._v("-r或--release")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示操作系统的发行编号。")])]),s._v(" "),t("tr",[t("td",[s._v("-s或--sysname")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示操作系统名称。")])]),s._v(" "),t("tr",[t("td",[s._v("-v")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示操作系统的版本。")])]),s._v(" "),t("tr",[t("td",[s._v("--help")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示帮助。")])]),s._v(" "),t("tr",[t("td",[s._v("--version")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示版本信息。")])])])]),s._v(" "),t("h3",{attrs:{id:"ls"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ls"}},[s._v("#")]),s._v(" ls")]),s._v(" "),t("p",[s._v("查看当前目录下包含的内容")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-alrtAFR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-a")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v('显示所有文件及目录 (ls内定将文件名或目录名称开头为"."的视为隐藏档，不会列出)')])]),s._v(" "),t("tr",[t("td",[s._v("-l")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出")])]),s._v(" "),t("tr",[t("td",[s._v("-r")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("显示在网络上的主机名称。")])])])]),s._v(" "),t("h3",{attrs:{id:"cd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cd"}},[s._v("#")]),s._v(" cd")]),s._v(" "),t("p",[s._v("跳入其他的目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dirName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回上层目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回根目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("dirName")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("要切换的目标目录")])])])]),s._v(" "),t("h3",{attrs:{id:"mkdir"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mkdir"}},[s._v("#")]),s._v(" mkdir")]),s._v(" "),t("p",[s._v("用于建立名称为 dirName 之子目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" dirName\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("dirName")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("创建的目录名")])]),s._v(" "),t("tr",[t("td",[s._v("-p")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("确保目录名称存在，不存在的就建一个")])])])]),s._v(" "),t("h3",{attrs:{id:"vim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vim"}},[s._v("#")]),s._v(" vim")]),s._v(" "),t("p",[s._v("使用vim打开或创建一个文档")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" path\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("path")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("文件路径")])])])]),s._v(" "),t("h3",{attrs:{id:"sudo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[s._v("#")]),s._v(" sudo")]),s._v(" "),t("p",[s._v("以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$shell")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("$shell")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("执行的命令")])])])]),s._v(" "),t("h3",{attrs:{id:"scp-重点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp-重点"}},[s._v("#")]),s._v(" scp(重点)")]),s._v(" "),t("p",[t("strong",[s._v("什么是scp")])]),s._v(" "),t("ul",[t("li",[s._v("secure copy")]),s._v(" "),t("li",[s._v("用于在Linux下进行远程拷贝文件，scp传输是加密的")]),s._v(" "),t("li",[s._v("需要输入密码")])]),s._v(" "),t("p",[t("strong",[s._v("什么是scp")])]),s._v(" "),t("ul",[t("li",[s._v("远程服务器既不需要配置ftp服务器")]),s._v(" "),t("li",[s._v("不需要开启web服务器")]),s._v(" "),t("li",[s._v("也不需要开启共享")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传文件到远程服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r 本地需要上传的文件的路径 root@服务器ip:服务器文件路径\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载远程服务器文件到本地")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r root@服务器ip:服务器文件路径 本地文件路径\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("scp上传文件到服务器是在我们本地电脑运行命令，不是登录服务器")])]),s._v(" "),t("h3",{attrs:{id:"rm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rm"}},[s._v("#")]),s._v(" rm")]),s._v(" "),t("p",[s._v("删除目录或者文件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f path\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf path\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("strong",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("path")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("文件路径")])])])]),s._v(" "),t("h2",{attrs:{id:"服务端部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端部署"}},[s._v("#")]),s._v(" 服务端部署")]),s._v(" "),t("h2",{attrs:{id:"pm2启动node服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pm2启动node服务"}},[s._v("#")]),s._v(" Pm2启动node服务")]),s._v(" "),t("h2",{attrs:{id:"docker使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker使用"}},[s._v("#")]),s._v(" Docker使用")]),s._v(" "),t("p",[s._v("Docker是一款以容器虚拟化技术为基础的软件。为程序跨平台兼容而生，将虚拟化应用于资源管理，是一个由 Go 语言实现的容器引擎。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("Docker是围绕镜像 ( Image )、容器 ( Container )、网络 ( Network )、数据卷 ( Volume )所展开。我们所有的操作均以CentOS操作系统为例")])]),s._v(" "),t("h3",{attrs:{id:"安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装docker")]),s._v(" "),t("p",[s._v("首先进行 Docker 的安装")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum-utils device-mapper-persistent-data lvm2\n$\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce\n$\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"上手使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上手使用"}},[s._v("#")]),s._v(" 上手使用")]),s._v(" "),t("p",[s._v("在安装 Docker 完成之后，我们需要先启动 docker daemon 使其能够为我们提供 Docker 服务，这样我们才能正常使用 Docker。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("docker version")])])]),s._v(" "),t("p",[s._v("在 Docker 服务启动之后，我们先来尝试一个最简单的查看 Docker 版本的命令："),t("strong",[s._v("docker version")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker version\nClient:\n Version:           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1-ce\n API version:       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.38")]),s._v("\n Go version:        go1.10.3\n Git commit:        e68fc7a\n Built:             Tue Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":23:03 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n OS/Arch:           linux/amd64\n Experimental:      "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nServer:\n Engine:\n  Version:          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1-ce\n  API version:      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.38")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Go version:       go1.10.3\n  Git commit:       e68fc7a\n  Built:            Tue Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":25:29 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n  OS/Arch:          linux/amd64\n  Experimental:     "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("docker info")])])]),s._v(" "),t("p",[s._v("如果想要了解 Docker Engine 更多相关的信息，我们还可以通过 "),t("strong",[s._v("docker info")]),s._v(" 这个命令。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker info\nContainers: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n Running: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n Paused: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n Stopped: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nImages: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nServer Version: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".0-ce\nStorage Driver: overlay2\n Backing Filesystem: extfs\n Supports d_type: "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n Native Overlay Diff: "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nLogging Driver: json-file\nCgroup Driver: cgroupfs\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\nLive Restore Enabled: "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("配置国内镜像源")])])]),s._v(" "),t("p",[s._v("在 Linux 环境下，我们可以通过修改 /etc/docker/daemon.json ( 如果文件不存在，你可以直接创建它 ) 这个 Docker 服务的配置文件达到效果。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("注意镜像是以https://开头")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.docker-cn.com"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("在修改之后，别忘了重新启动 docker daemon 来让配置生效哟：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ sudo systemctl restart docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("要验证我们配置的镜像源是否生效，我们可以通过 "),t("strong",[s._v("docker info")]),s._v(" 来查阅当前注册的镜像源列表。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker info\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\nRegistry Mirrors:\n https://registry.docker-cn.com/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("查看镜像")])])]),s._v(" "),t("p",[s._v("如果要查看当前连接的 docker daemon 中存放和管理了哪些镜像，我们可以使用 "),t("strong",[s._v("docker images")]),s._v(" 这个命令 ( Linux、macOS 还是 Windows 上都是一致的 )。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nphp                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("-fpm               f214b5c48a25        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" days ago          368MB\nredis               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("                 2fef532eadb3        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" days ago         76MB\nredis               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v("                 e1a73233e3be        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" days ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(".4MB\ncogset/cron         latest              c01d5ac6fc8a        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" months ago       125MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("获取镜像")])])]),s._v(" "),t("p",[s._v("要拉取镜像，我们可以使用 "),t("strong",[s._v("docker pull")]),s._v(" 命令，命令的参数就是我们之前所提到的镜像仓库名。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker pull ubuntu\nUsing default tag: latest\nlatest: Pulling from library/ubuntu\n124c757242f8: Downloading "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(".19MB/31.76MB\n9d866f8bde2a: Download complete \nfa3f2f277e67: Download complete \n398d32b153e8: Download complete \nafde35469481: Download complete \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("当然，我们也能够使用完整的镜像命名来拉取镜像。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker pull nginx\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v(".6.2-alpine: Pulling from openresty/openresty\nff3a5c916c92: Pull complete \nede0a2a1012b: Pull complete \n0e0a11843023: Pull complete \n246b2c6f4992: Pull complete \nDigest: sha256:23ff32a1e7d5a10824ab44b24a0daf86c2df1426defe8b162d8376079a548bf2\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" openresty/openresty:1.13.6.2-alpine\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("Docker Hub 是 Docker 官方建立的中央镜像仓库，除了普通镜像仓库的功能外，它内部还有更加细致的权限管理，支持构建钩子和自动构建，并且有一套精致的 Web 操作页面。\nDocker Hub 的地址是：hub.docker.com/。")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("管理镜像")])])]),s._v(" "),t("p",[s._v("如果我们要获得镜像更详细的信息，我们可以通过 "),t("strong",[s._v("docker inspect")]),s._v(" 这个命令。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker inspect nginx\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sha256:2fef532eadb328740479f93b4a1b7595d412b9105ca8face42d3245485c39ddc"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RepoTags"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis:3.2"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RepoDigests"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis@sha256:745bdd82bad441a666ee4c23adb7a4c8fac4b564a1c7ac4454aa81e91057d977"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("删除镜像")])])]),s._v(" "),t("p",[s._v("删除镜像的命令是 "),t("strong",[s._v("docker rmi")]),s._v("，参数是镜像的名称或 ID。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker rmi nginx\nUntagged: redis:3.2\nUntagged: redis@sha256:745bdd82bad441a666ee4c23adb7a4c8fac4b564a1c7ac4454aa81e91057d977\nDeleted: sha256:2fef532eadb328740479f93b4a1b7595d412b9105ca8face42d3245485c39ddc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\nUntagged: redis:4.0\nUntagged: redis@sha256:b77926b30ca2f126431e4c2055efcf2891ebd4b4c4a86a53cf85ec3d4c98a4c9\nDeleted: sha256:e1a73233e3beffea70442fc2cfae2c2bab0f657c3eebb3bdec1e84b6cc778b75\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ......")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("创建容器")])])]),s._v(" "),t("p",[s._v("当我们选择好镜像以后，就可以通过 "),t("strong",[s._v("docker create")]),s._v(" 这个命令来创建容器了。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker create nginx\n34f277e22be252b51d204acbb32ce21181df86520de0c337a835de6932ca06c3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("执行 "),t("strong",[s._v("docker create")]),s._v(" 后，Docker 会根据我们所给出的镜像创建容器，在控制台中会打印出 Docker 为容器所分配的容器 ID，此时容器是处于 Created 状态的。")]),s._v(" "),t("p",[s._v("要使用容器名操作容器，就先得给容器命名，在创建容器时，我们可以通过 --name 这个选项来配置容器名。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker create --name nginx nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("启动容器")]),s._v("\n通过 "),t("strong",[s._v("docker create")]),s._v(" 创建的容器，是处于 Created 状态的，其内部的应用程序还没有启动，所以我们需要通过 "),t("strong",[s._v("docker start")]),s._v(" 命令来启动它。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker start nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在 Docker 里，还允许我们通过 "),t("strong",[s._v("docker run")]),s._v(" 这个命令将 "),t("strong",[s._v("docker create")]),s._v(" 和 "),t("strong",[s._v("docker start")]),s._v(" 这两步操作合成为一步，进一步提高工作效率。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name nginx -d nginx:1.12\n89f2b769498a50f5c35a314ab82300ce9945cbb69da9cda4b022646125db8ca7\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("管理容器")]),s._v("\n通过 "),t("strong",[s._v("docker ps")]),s._v(" 这个命令，我们可以罗列出 Docker 中的容器。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("默认情况下，"),t("strong",[s._v("docker ps")]),s._v(" 列出的容器是处于运行中的容器，如果要列出所有状态的容器，需要增加 -a 或 --all 选项。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("停止和删除容器")]),s._v("\n要将正在运行的容器停止，我们可以使用 "),t("strong",[s._v("docker stop")]),s._v(" 命令。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker stop nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("容器停止后，其维持的文件系统沙盒环境还是存在的，内部被修改的内容也都会保留，我们可以通过 "),t("strong",[s._v("docker start")]),s._v(" 命令将这个容器再次启动。")]),s._v(" "),t("p",[s._v("当我们需要完全删除容器时，可以通过 "),t("strong",[s._v("docker rm")]),s._v(" 命令将容器进行删除。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("正在运行中的容器默认情况下是不能被删除的，我们可以通过增加 -f 或 --force 选项来让 "),t("strong",[s._v("docker rm")]),s._v(" 强制停止并删除容器，不过这种做法并不妥当。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("进入容器")])])]),s._v(" "),t("p",[s._v("使用exec可以进入容器，进行操作")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器id /bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("在容器中可能出现无sudo方法，并且使用apt-get、yum等安装缺需要root权限等，可以使用以下的命令进入管理者模式")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it -u root 容器id /bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("可以用来试水的镜像")])])]),s._v(" "),t("p",[s._v("在我们使用docker，可以先搞一些比较好玩的镜像来使用")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker 安装 portainer（ docker 容器的 GUI 管理方案")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载镜像")]),s._v("\ndocker pull portainer/portainer\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 volume")]),s._v("\ndocker volume create portainer_data\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单机 portainer")]),s._v("\ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访问：http://xxx.xxx.xxx.xxx:9000")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker 安装 jenkins docker 自动化部署集成方案 下面在使用中会重点提到")]),s._v("\ndocker pull jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"jenkins使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jenkins使用"}},[s._v("#")]),s._v(" Jenkins使用")]),s._v(" "),t("ol",[t("li",[s._v("安装docker")]),s._v(" "),t("li",[s._v("服务器安装java8")]),s._v(" "),t("li",[s._v("安装镜像jenkins(不要使用官方jenkins 版本太低、使用jenkins/jenkins)")]),s._v(" "),t("li",[s._v("启动容器 8080端口指向8000，容器命名为reina-jenkins，使用镜像jenkins/jenkins：docker run --name reina-jenkins -p 8000:8080 -p 50000:50000 jenkins/jenkins")]),s._v(" "),t("li",[s._v("打开8000端口，复制logs中的用户密码 登录，选择推荐插件进行安装")]),s._v(" "),t("li",[s._v("创建用户")]),s._v(" "),t("li",[s._v("系统设置->插件管理->高级设置、替换站点https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json并保存")]),s._v(" "),t("li",[s._v("可选插件，搜索github和git进行安装")]),s._v(" "),t("li",[s._v("在github进行设置，得到token：b301e05beb0ca90fbec24523a3cdb66dbdd4ecbb")]),s._v(" "),t("li",[s._v("jenkins创建任务")]),s._v(" "),t("li",[s._v("再次启动 docker start [id/name]")])])])}),[],!1,null,null,null);a.default=n.exports}}]);